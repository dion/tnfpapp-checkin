(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){e.exports=a(59)},59:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(30),r=a.n(c),o=a(3),s=a(4),i=a(10),m=a(13),u=a(2),d=a(1),b="https://www.tnfpapp.org/checkin/api",p=a(6),f=a.n(p),E=function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_list.php"),{jwt:t,placeOfService:e}).then((function(e){return e})).catch((function(e){return console.log(e)}))},h=function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_update_status.php"),{client:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))},v=function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_detail.php"),{email:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))},g=function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/items.php"),{place_of_service:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))},N={navLink:{color:"#FFFFFF",textDecoration:"none"}},y=Object(s.i)((function(e){var t=e.logoutFunction,a=e.logoutLink,c=e.history,r=function(e,t){return e.location.pathname===t?{color:"#ff9900",textDecoration:"none"}:{color:"#FFFFFF",textDecoration:"none"}};return l.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},!a&&l.a.createElement(o.b,{style:N.navLink,to:"/storehouse"},"Gods Vast Resources"),a&&l.a.createElement(n.Fragment,null,l.a.createElement(o.b,{style:r(c,"/storehouse"),to:{pathname:"/storehouse",state:{place:"Clothing Bank"}}},"Clothing Bank"),l.a.createElement(o.b,{style:r(c,"/foodpantry"),to:{pathname:"/foodpantry",state:{place:"Food pantry"}}},"Food Pantry"),l.a.createElement(o.b,{style:r(c,"/mrc"),to:{pathname:"/mrc",state:{place:"Mobile resource center"}}},"Mobile Resource Center"),l.a.createElement(o.b,{style:N.navLink,onClick:t,to:"#"},"Log out")))})),O=Object(s.i)((function(e){var t=e.client,a=Object(n.useState)(!1),c=Object(d.a)(a,2),r=c[0];c[1];if(r)return l.a.createElement(s.a,{to:"/"});return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("table",{className:"table table-bordered table-striped mb-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"First"),l.a.createElement("th",{scope:"col"},"Last"),l.a.createElement("th",{scope:"col"},"Address"),l.a.createElement("th",{scope:"col"},"Email"),l.a.createElement("th",{scope:"col"},"Phone"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,t.fname),l.a.createElement("td",null,t.lname),l.a.createElement("td",null,t.address),l.a.createElement("td",null,t.email),l.a.createElement("td",null,t.phone)))))),l.a.createElement("div",{className:"row",style:{paddingTop:15}},l.a.createElement("div",{className:"col-sm"},l.a.createElement(o.b,{to:{pathname:"/placeofservice",state:{client:t}},style:{textDecoration:"none"}},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg btn-block"},"Check In"))),l.a.createElement("div",{className:"col-sm"},l.a.createElement(o.b,{to:{pathname:"/updateclient",state:{client:t}},style:{textDecoration:"none"}},l.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block"},"Update Info")))))})),j=function(e){return l.a.createElement("div",{className:"alert alert-danger",role:"alert"},l.a.createElement("b",null,"Error!")," ",e)},k=Object(s.i)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],b=Object(n.useState)(""),p=Object(d.a)(b,2),f=p[0],E=p[1],h=Object(n.useState)(!1),g=Object(d.a)(h,2),N=g[0],k=g[1],w=Object(n.useState)({}),S=Object(d.a)(w,2),C=S[0],F=S[1],I=Object(n.useState)({email:"",status:"checkin",familyNumber:"0",specificRequest:[]}),x=Object(d.a)(I,2),_=x[0],M=x[1],P=_.email,L=_.specificRequest;Object(n.useEffect)((function(){sessionStorage.getItem("jwt")||k(!0),e.location.reload&&v(e.location.email).then((function(e){e?e.data.error?(r(!0),E(e.data.error)):(r(!1),F(e.data.client)):(r(!0),E("No response from server"))}))}),[]);if(N)return l.a.createElement(s.a,{to:"/"});var T=function(e){e.preventDefault(),""!==P?v(P).then((function(e){e?e.data.error?(r(!0),E(e.data.error)):(r(!1),F(e.data.client)):(r(!0),E("No response from server"))})):(r(!0),E("Email address must not be blank"))};return l.a.createElement(n.Fragment,null,l.a.createElement(y,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),k(!0)},logoutLink:!0}),c&&j(f),function(){return l.a.createElement("form",{style:{padding:15}},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group mx-auto",style:{width:400}},l.a.createElement("label",{htmlFor:"inputEmail"},l.a.createElement("strong",null,"Email or Unique ID")),l.a.createElement("input",{type:"email",className:"form-control",id:"inputEmail",onChange:(e="email",function(t){M("specificRequest"==e?Object(u.a)(Object(u.a)({},_),{},{specificRequest:[].concat(Object(m.a)(L),[t.target.value])}):Object(u.a)(Object(u.a)({},_),{},Object(i.a)({},e,t.target.value)))})}),l.a.createElement("br",null),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement(o.b,{style:{textDecoration:"none"},to:{pathname:"/registerclient"}},l.a.createElement("button",{className:"btn btn-info btn-lg btn-block"},"Register Client"))),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("button",{onClick:T,className:"btn btn-success btn-lg btn-block"},"Search Client"))))));var e}(),Object.entries(C).length>0&&l.a.createElement(O,{client:C}))})),w=Object(s.i)((function(e){var t=e.location,a=Object(n.useState)(!1),c=Object(d.a)(a,2),r=c[0],o=c[1],m=Object(n.useState)(""),p=Object(d.a)(m,2),E=p[0],h=p[1],v=Object(n.useState)(!1),g=Object(d.a)(v,2),N=g[0],O=g[1],k=Object(n.useState)({id:0,fname:"",lname:"",address:"",inhouse:"",city:"",state:"",postalCode:"",email:"",phone:""}),w=Object(d.a)(k,2),S=w[0],C=w[1];Object(n.useEffect)((function(){if(t.state){var e=t.state.client;C({id:e.id,fname:e.fname,lname:e.lname,address:e.address,inhouse:e.inhouse,city:e.city,state:"AZ",postalCode:e.postalCode,email:e.email,phone:e.phone})}}),[]);var F=S.fname,I=S.lname,x=S.address,_=S.inhouse,M=S.city,P=S.postalCode,L=S.email,T=S.phone;if(N)return l.a.createElement(s.a,{to:{pathname:"/searchclient",email:L,reload:!0}});if(!t.state)return l.a.createElement(s.a,{to:"/"});var A=function(e){return function(t){C(Object(u.a)(Object(u.a)({},S),{},Object(i.a)({},e,t.target.value)))}},D=function(e){e.preventDefault(),function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_update_info.php"),{client:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))}(S).then((function(e){e?e.data.error?(o(!0),h(e.data.error)):O(!0):(o(!0),h("No response from server"))}))};return l.a.createElement(n.Fragment,null,l.a.createElement(y,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),O(!0)},logoutLink:!0}),r&&j(E),l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputFname"},l.a.createElement("strong",null,"First Name")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputFname",placeholder:"First Name",onChange:A("fname"),value:F})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputLname"},l.a.createElement("strong",null,"Last Name")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputLname",placeholder:"Last Name",onChange:A("lname"),value:I}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6",style:{padding:15}},l.a.createElement("label",{htmlFor:"inputAddress"},l.a.createElement("strong",null,"Address")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputAddress",placeholder:"1234 Main St",onChange:A("address"),value:x})),l.a.createElement("div",{className:"form-group col-md-6",style:{padding:15}},l.a.createElement("label",{htmlFor:"inHouse"},l.a.createElement("strong",null,"# in house")),l.a.createElement("input",{type:"text",className:"form-control",id:"inHouse",placeholder:"# in house",onChange:A("inhouse"),value:_}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputCity"},l.a.createElement("strong",null,"City")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputCity",onChange:A("city"),placeholder:"Tucson",value:M})),l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",{htmlFor:"inputState"},l.a.createElement("strong",null,"State")),l.a.createElement("select",{id:"inputState",className:"form-control"},l.a.createElement("option",null,"Arizona"))),l.a.createElement("div",{className:"form-group col-md-2"},l.a.createElement("label",{htmlFor:"inputZip"},l.a.createElement("strong",null,"Zip")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputZip",onChange:A("postalCode"),value:P}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputEmail"},l.a.createElement("strong",null,"Email")),l.a.createElement("input",{type:"email",className:"form-control",id:"inputEmail",placeholder:"Email",onChange:A("email"),value:L})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputPhone"},l.a.createElement("strong",null,"Phone")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputPhone",placeholder:"Phone",onChange:A("phone"),value:T}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("button",{onClick:D,className:"btn btn-success btn-lg btn-block"},"Submit")))))})),S=Object(s.i)((function(e){e.location;var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(""),m=Object(d.a)(o,2),p=m[0],E=m[1],h=Object(n.useState)(!1),v=Object(d.a)(h,2),g=v[0],N=v[1],O=Object(n.useState)({id:0,fname:"",lname:"",address:"",inhouse:"",city:"",state:"AZ",postalCode:"",email:"",phone:""}),k=Object(d.a)(O,2),w=k[0],S=k[1];if(g)return l.a.createElement(s.a,{to:{pathname:"/searchclient"}});var C=w.fname,F=w.lname,I=w.address,x=w.inhouse,_=w.city,M=w.postalCode,P=w.email,L=w.phone,T=function(e){return function(t){S(Object(u.a)(Object(u.a)({},w),{},Object(i.a)({},e,t.target.value)))}},A=function(e){e.preventDefault(),function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_register.php"),{client:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))}(w).then((function(e){e?e.data.error?(r(!0),E(e.data.error)):N(!0):(r(!0),E("No response from server"))}))};return l.a.createElement(n.Fragment,null,l.a.createElement(y,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),N(!0)},logoutLink:!0}),c&&j(p),l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputFname"},l.a.createElement("strong",null,"First Name")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputFname",placeholder:"First Name",onChange:T("fname"),value:C})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputLname"},l.a.createElement("strong",null,"Last Name")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputLname",placeholder:"Last Name",onChange:T("lname"),value:F}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6",style:{padding:15}},l.a.createElement("label",{htmlFor:"inputAddress"},l.a.createElement("strong",null,"Address")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputAddress",placeholder:"1234 Main St",onChange:T("address"),value:I})),l.a.createElement("div",{className:"form-group col-md-6",style:{padding:15}},l.a.createElement("label",{htmlFor:"inHouse"},l.a.createElement("strong",null,"# in house")),l.a.createElement("input",{type:"text",className:"form-control",id:"inHouse",placeholder:"# in house",onChange:T("inhouse"),value:x}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputCity"},l.a.createElement("strong",null,"City")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputCity",onChange:T("city"),placeholder:"Tucson",value:_})),l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",{htmlFor:"inputState"},l.a.createElement("strong",null,"State")),l.a.createElement("select",{id:"inputState",className:"form-control"},l.a.createElement("option",null,"Arizona"))),l.a.createElement("div",{className:"form-group col-md-2"},l.a.createElement("label",{htmlFor:"inputZip"},l.a.createElement("strong",null,"Zip")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputZip",onChange:T("postalCode"),value:M}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputEmail"},l.a.createElement("strong",null,"Email")),l.a.createElement("input",{type:"email",className:"form-control",id:"inputEmail",placeholder:"Email",onChange:T("email"),value:P})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputPhone"},l.a.createElement("strong",null,"Phone")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputPhone",placeholder:"Phone",onChange:T("phone"),value:L}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("button",{onClick:A,className:"btn btn-success btn-lg btn-block"},"Submit")))))})),C=Object(s.i)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(""),i=Object(d.a)(o,2),u=i[0],p=i[1],E=Object(n.useState)(!1),h=Object(d.a)(E,2),v=h[0],N=h[1],O=Object(n.useState)([]),k=Object(d.a)(O,2),w=k[0],S=k[1],C=(Object(s.g)(),Object(n.useState)(["Drive-Thru","Walk-Up"])),F=Object(d.a)(C,2),I=F[0],x=(F[1],Object(n.useState)([])),_=Object(d.a)(x,2),M=_[0],P=_[1],L=Object(n.useState)([]),T=Object(d.a)(L,2),A=T[0],D=T[1],R=Object(n.useState)(""),W=Object(d.a)(R,2),q=W[0],B=W[1],U=Object(n.useState)(""),Z=Object(d.a)(U,2),H=Z[0],V=Z[1];if(Object(n.useEffect)((function(){return console.log("component mounted"),sessionStorage.getItem("jwt")||N(!0),function(){var e=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/item_placeofservice.php"),{jwt:e}).then((function(e){return e})).catch((function(e){return console.log(e)}))}().then((function(e){e?e.data.error?(r(!0),p(e.data.error)):(r(!1),S(e.data.places)):(r(!0),p("No response from server"))})),function(){console.log("component unmounted")}}),[]),Object(n.useEffect)((function(){console.log("component updated due to items changing")}),[A]),"undefined"===typeof e.location.state)return l.a.createElement(s.a,{to:"/"});if(v){var z="";switch(q){case"Food pantry":z="foodpantry";break;case"Mobile Resource Center":z="mrc";break;default:z="storehouse"}return l.a.createElement(s.a,{to:{pathname:"/".concat(z)}})}var J=function(t){if(t.preventDefault(),0===A.length||""===H)return r(!0),p("Please fill in all the information"),!1;(function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_detail_by_id.php"),{id:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))})(e.location.state.client.id).then((function(e){if(e)if(e.data.error)r(!0),p(e.data.error);else{var t=e.data.client;(function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_save.php"),{client:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))})({fname:t.fname,lname:t.lname,status:"checkin",familyNumber:t.inhouse,placeOfService:q,items:A,email:t.email,methodOfPickup:H}).then((function(e){e?e.data.error?(r(!0),p(e.data.error)):(r(!1),N(!0)):(r(!0),p("No response from server"))}))}else r(!0),p("No response from server")}))};return l.a.createElement(n.Fragment,null,l.a.createElement(y,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),N(!0)},logoutLink:!0}),c&&j(u),l.a.createElement("form",{style:{padding:15}},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group mx-auto",style:{width:400}},l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("label",{htmlFor:"inputPlaceOfService"},l.a.createElement("strong",null,"Place Of Service")),l.a.createElement("select",{onChange:function(e){for(var t=document.querySelectorAll(".form-check-input"),a=0;a<t.length;a++)t[a].checked=!1;D([]),B(e.target.value),g(e.target.value).then((function(e){e?e.data.error?(r(!0),p(e.data.error)):(r(!1),P(e.data.items)):(r(!0),p("No response from server"))}))},className:"custom-select",id:"placeOfService"},l.a.createElement("option",{defaultValue:!0,value:"0"},"Choose..."),w.map((function(e,t){return l.a.createElement("option",{key:t,value:e.place_of_service},e.place_of_service)})))),l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("label",null,l.a.createElement("strong",null,"Method of pickup")),l.a.createElement("select",{onChange:function(e){V(e.target.value)},className:"custom-select",id:"methodsOfPickup"},l.a.createElement("option",{defaultValue:!0,value:"0"},"Choose..."),I.map((function(e,t){return l.a.createElement("option",{key:t,value:e},e)})))),l.a.createElement("div",{className:"form-group col-sm",style:{display:M.length>0?"block":"none"}},l.a.createElement("label",null,l.a.createElement("strong",null,"Items")),M.map((function(e,t){return l.a.createElement("div",{className:"form-check",key:t},l.a.createElement("input",{onChange:function(e){if(e.target.checked)D([].concat(Object(m.a)(A),[e.target.value]));else{var t=A.filter((function(t){return t!==e.target.value}));D(t)}},className:"form-check-input",type:"checkbox",value:e.name,id:t}),l.a.createElement("label",{className:"form-check-label",htmlFor:t},e.name))}))),l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("button",{onClick:J,className:"btn btn-success btn-lg btn-block"},"Submit"))))))})),F=Object(n.createContext)(),I=function(e){var t=Object(n.useState)({place:"",checkedIn:[],serving:[],checkedOut:[]}),a=Object(d.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){E(c.place).then((function(e){if(e)if(e.data.error)console.log("Response error: ",e.data.error);else{var t=e.data.clients.filter((function(e){return"checkin"===e.status})),a=e.data.clients.filter((function(e){return"serving"===e.status})),n=e.data.clients.filter((function(e){return"checkout"===e.status}));r((function(e){return Object(u.a)(Object(u.a)({},e),{},{place:c.place,checkedIn:t,serving:a,checkedOut:n})}))}else console.log("No response error")}));var e=setInterval((function(){E(c.place).then((function(e){if(e)if(e.data.error)console.log("Response error: ",e.data.error);else{var t=e.data.clients.filter((function(e){return"checkin"===e.status})),a=e.data.clients.filter((function(e){return"serving"===e.status})),n=e.data.clients.filter((function(e){return"checkout"===e.status}));r((function(e){return Object(u.a)(Object(u.a)({},e),{},{place:c.place,checkedIn:t,serving:a,checkedOut:n})}))}else console.log("No response error")}))}),3e4);return function(){return clearInterval(e)}}),[c.place,c.updateCheckout]),l.a.createElement(F.Provider,{value:[c,r]},e.children)},x=function(e){return{checkedIn:e.filter((function(e){return"checkin"===e.status})),serving:e.filter((function(e){return"serving"===e.status})),checkedOut:e.filter((function(e){return"checkout"===e.status}))}},_=function(e){var t=e.modalId,a=e.client,c=e.type,r=e.refreshFunction,o=e.place,p=Object(n.useState)(!1),v=Object(d.a)(p,2),N=v[0],y=v[1],O=Object(n.useState)(""),k=Object(d.a)(O,2),w=k[0],S=k[1],C=Object(n.useState)(!1),I=Object(d.a)(C,2),_=I[0],M=I[1],P=Object(n.useContext)(F),L=Object(d.a)(P,2),T=(L[0],L[1]),A=Object(n.useState)(""),D=Object(d.a)(A,2),R=D[0],W=D[1],q=Object(n.useState)(""),B=Object(d.a)(q,2),U=B[0],Z=B[1],H=Object(s.g)(),V=Object(n.useState)(["Drive-Thru","Walk-Up"]),z=Object(d.a)(V,2),J=z[0],Y=(z[1],Object(n.useState)("")),G=Object(d.a)(Y,2),Q=G[0],$=G[1],K=Object(n.useState)([]),X=Object(d.a)(K,2),ee=X[0],te=X[1],ae=Object(n.useState)([]),ne=Object(d.a)(ae,2),le=ne[0],ce=ne[1],re=Object(n.useState)([]),oe=Object(d.a)(re,2),se=oe[0],ie=oe[1],me=Object(n.useState)({place_of_service:"",date_of_visit:"",item:"",notes:"",weight:"",numOfItems:""}),ue=Object(d.a)(me,2),de=ue[0],be=ue[1],pe=de.date_of_visit,fe=de.item,Ee=de.notes,he=de.weight,ve=de.numOfItems;Object(n.useEffect)((function(){if("editCheckin"===c){$(a.methodOfPickup),g(a.placeOfService).then((function(e){var t=e.data;te(t.items)}));var e=[];a.items&&a.items.map((function(t){return e.push(t.item)})),ce(e)}"checkout"===c&&g(o).then((function(e){var t=e.data;if(ie(t.items),void 0!==a.items&&a.items.length>0){var n=t.items.find((function(e){return e.name===a.items[0].item}));void 0!==n&&("Weight"===n.itemType?be(Object(u.a)(Object(u.a)({},de),{},{item:n.name,weight:0,numOfItems:""})):be(Object(u.a)(Object(u.a)({},de),{},{item:n.name,weight:"",numOfItems:0})))}}))}),[a]);var ge=function(e){return function(t){if("item"==e){var a=document.querySelector('option[value="'.concat(t.target.value,'"]')).dataset.type;be("Weight"===a?Object(u.a)(Object(u.a)({},de),{},{item:t.target.value,weight:0,numOfItems:""}):Object(u.a)(Object(u.a)({},de),{},{item:t.target.value,weight:"",numOfItems:0}))}else"weight"===e&&W(t.target.value),"numOfItems"===e&&Z(t.target.value),be(Object(u.a)(Object(u.a)({},de),{},Object(i.a)({},e,t.target.value)))}},Ne=function(e){e.preventDefault();var t=!1;a.status=c,"checkout"==c?(a.items.forEach((function(e){e.quantity||(t=!0)})),t?alert("Error: User can't have empty items!"):h(a).then((function(e){r()}))):h(a).then((function(e){r()}))},ye=function(e){H.push("/foodpantry?active=serving"),window.location.reload(!1)},Oe=function(e){if(e.preventDefault(),0===he&&""===R)return alert("Weight value can not be empty"),!1;if(0===ve&&""===U)return alert("Number of items can not be empty"),!1;var t={id:a.id,c_id:a.c_id,place_of_service:a.placeOfService,date_of_visit:pe,item:fe,notes:Ee,weight:he,numOfItems:ve};(function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_save_visit_items.php"),{visit:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))})(t).then((function(e){M(!0),setTimeout((function(){M(!1),W(""),Z(""),be(Object(u.a)(Object(u.a)({},t),{},{notes:""}))}),2e3)}))},je=function(e){e.preventDefault(),function(e){console.log("placeOfService",e);var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_checkout.php"),{placeOfService:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))}(o).then((function(e){E(o).then((function(e){if(e)if(e.data.error)T((function(e){return Object(u.a)(Object(u.a)({},e),{},{checkedOut:[]})}));else{var t=x(e.data.clients),a=t.checkedIn,n=t.serving,l=t.checkedOut;T((function(e){return Object(u.a)(Object(u.a)({},e),{},{place:o,checkedIn:a,serving:n,checkedOut:l})}))}else y(!0),S("No response from server")}))}))},ke=function(e){return function(e){if(e.target.checked)ce([].concat(Object(m.a)(le),[e.target.value]));else{var t=le.filter((function(t){return t!==e.target.value}));ce(t)}}},we=function(){if(0===le.length||""===Q)return alert("Please fill in all the information"),!1;(function(e,t,a,n){var l=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/update_visit_items.php"),{client_id:e,placeOfService:t,methodOfPickup:a,items:n,jwt:l}).then((function(e){return e})).catch((function(e){return console.log(e)}))})(a.c_id,a.placeOfService,Q,le).then((function(e){console.log("result ",e),H.push("/foodpantry"),window.location.reload(!1)}))};return l.a.createElement(n.Fragment,null,"editCheckin"==c&&l.a.createElement("div",{className:"modal fade",id:t,tabIndex:"-1",role:"dialog","aria-labelledby":"clientModalTitle","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},N&&j(w),l.a.createElement("h5",{className:"modal-title",id:"clientModalTitle"},"Edit"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("label",null,l.a.createElement("strong",null,"Method of pickup")),l.a.createElement("select",{onChange:function(e){return $(e.target.value)},className:"custom-select",id:"methodsOfPickup"},l.a.createElement("option",{defaultValue:!0,value:"0"},"Choose..."),a&&J.map((function(e,t){return e===Q?l.a.createElement("option",{key:t,selected:!0,value:e},e):l.a.createElement("option",{key:t,value:e},e)})))),l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("label",null,l.a.createElement("strong",null,"Items")),ee&&ee.map((function(e,t){return le.find((function(t){return t===e.name}))?l.a.createElement("div",{className:"form-check",key:t},l.a.createElement("input",{onChange:ke(),className:"form-check-input",type:"checkbox",value:e.name,id:t,checked:!0}),l.a.createElement("label",{className:"form-check-label",htmlFor:t},e.name)):l.a.createElement("div",{className:"form-check",key:t},l.a.createElement("input",{onChange:ke(),className:"form-check-input",type:"checkbox",value:e.name,id:t}),l.a.createElement("label",{className:"form-check-label",htmlFor:t},e.name))})))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{onClick:we,className:"btn btn-primary","data-dismiss":"modal"},"Save"))))),"serving"==c&&l.a.createElement("div",{className:"modal fade",id:t,tabIndex:"-1",role:"dialog","aria-labelledby":"clientModalTitle","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},N&&j(w),l.a.createElement("h5",{className:"modal-title",id:"clientModalTitle"},"Move"," ",l.a.createElement("span",{style:{color:"green"}},a.fname," ",a.lname)," ","to ",c,"?"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},"They will be moved to the ",c," tab"),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{onClick:Ne,className:"btn btn-primary","data-dismiss":"modal"},"Yes"))))),"checkout"==c&&l.a.createElement("div",{className:"modal fade",id:t,tabIndex:"-1",role:"dialog","aria-labelledby":"clientModalTitle","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"clientModalTitle"},"Add visit for"," ",l.a.createElement("span",{style:{color:"green"}},a.fname," ",a.lname)," ","and move to ",c,"?"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("div",{className:"alert alert-success",role:"alert",style:{display:_?"block":"none"}},"Client visit has been saved!"),l.a.createElement("label",{htmlFor:"dateOfVisit"},l.a.createElement("strong",null,"Date of Visit")),l.a.createElement("input",{onChange:ge("date_of_visit"),type:"date",className:"form-control",id:"dateOfVisit"})),l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("label",{htmlFor:"item"},l.a.createElement("strong",null,"Item")),l.a.createElement("div",{className:"input-group mb-3"},se&&l.a.createElement("select",{onChange:ge("item"),className:"custom-select",id:"item"},se.map((function(e,t){return""!==fe&&e.name===fe?l.a.createElement("option",{key:t,selected:!0,"data-type":e.itemType,value:e.name},e.name):l.a.createElement("option",{key:t,"data-type":e.itemType,value:e.name},e.name)}))))),l.a.createElement("div",{className:"form-group col-sm",style:{display:""!==he?"block":"none"}},l.a.createElement("label",{htmlFor:"weight"},l.a.createElement("strong",null,"Weight")),l.a.createElement("input",{type:"number",className:"form-control",id:"weight",onChange:ge("weight"),value:R,required:!0})),l.a.createElement("div",{className:"form-group col-sm",style:{display:""!==ve?"block":"none"}},l.a.createElement("label",{htmlFor:"numOfItems"},l.a.createElement("strong",null,"Number of items")),l.a.createElement("input",{type:"number",className:"form-control",id:"numOfItems",onChange:ge("numOfItems"),value:U,required:!0})),l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("label",{htmlFor:"notes"},l.a.createElement("strong",null,"Notes")),l.a.createElement("textarea",{onChange:ge("notes"),className:"form-control rounded-0",id:"notes",rows:"3",value:Ee},Ee))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:ye},"Cancel"),l.a.createElement("button",{onClick:Oe,className:"btn btn-success"},"Save"),l.a.createElement("button",{onClick:Ne,className:"btn btn-primary","data-dismiss":"modal"},"Move to checkout"))))),"clearcheckout"==c&&l.a.createElement("div",{className:"modal fade",id:t,tabIndex:"-1",role:"dialog","aria-labelledby":"clientModalTitle","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"clientModalTitle"},"Clear checked out clients?"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},"The list will be cleared"),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{onClick:je,className:"btn btn-primary","data-dismiss":"modal"},"Yes"))))))},M=function(e){var t=e.index,a=e.item;return l.a.createElement("li",{key:t},a.item," - ",a.quantity," - ",a.notes)},P=function(e){var t=e.items,a=e.noQty;return t.map((function(e,t){return a&&!e.quantity.length?l.a.createElement(M,{index:t,item:e,key:t}):a?null:l.a.createElement(M,{index:t,item:e,key:t})}))},L=function(e){var t=e.place,a=Object(n.useContext)(F),c=Object(d.a)(a,2),r=c[0],o=c[1],s=Object(n.useState)({}),i=Object(d.a)(s,2),m=i[0],b=i[1],p=Object(n.useState)(!1),f=Object(d.a)(p,2),h=f[0],v=f[1],g=Object(n.useState)(""),N=Object(d.a)(g,2),y=N[0],O=N[1],k=r.checkedOut;return l.a.createElement(n.Fragment,null,h&&j(y),0==k.length&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 offset-sm-3"},l.a.createElement("div",{className:"alert alert-success",role:"alert",style:{textAlign:"center"}},l.a.createElement("strong",null,"No clients in checkout")))),k.length>0&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("button",{style:{float:"right",marginBottom:5},type:"button",className:"btn btn-secondary btn-sm","data-toggle":"modal","data-target":"#checkoutModal"},"Clear Checkout"),l.a.createElement("table",{className:"table table-bordered table-striped mb-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"First"),l.a.createElement("th",{scope:"col"},"Last"),l.a.createElement("th",{scope:"col"},"# in House"),l.a.createElement("th",{scope:"col"},"Specific request"),l.a.createElement("th",{scope:"col"},"Method of Pickup"))),l.a.createElement("tbody",null,k.map((function(e,t){return l.a.createElement("tr",{"data-id":e.id,id:"modalLaunch",key:t,onClick:function(){return b(e)},"data-toggle":"modal","data-target":"#moveBackToServingModal"},l.a.createElement("th",{scope:"row"},t+1),l.a.createElement("td",null,e.fname),l.a.createElement("td",null,e.lname),l.a.createElement("td",null,e.familyNumber),l.a.createElement("td",null,l.a.createElement("ul",null,e.items&&l.a.createElement(P,{items:e.items}))),l.a.createElement("td",null,e.methodOfPickup))})))))),l.a.createElement(_,{modalId:"moveBackToServingModal",client:m,type:"serving",refreshFunction:function(){E(t).then((function(e){if(e)if(e.data.error)v(!0),O(e.data.error);else{var a=x(e.data.clients),n=a.checkedIn,l=a.serving,c=a.checkedOut;o((function(e){return Object(u.a)(Object(u.a)({},e),{},{place:t,checkedIn:n,serving:l,checkedOut:c})}))}else v(!0),O("No response from server")}))}}),l.a.createElement(_,{modalId:"checkoutModal",client:m,type:"clearcheckout",place:t}))},T=function(e){var t=Object(n.useContext)(F),a=Object(d.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)({}),s=Object(d.a)(o,2),i=s[0],m=s[1],b=c.serving;return l.a.createElement(n.Fragment,null,0==b.length&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 offset-sm-3"},l.a.createElement("div",{className:"alert alert-success",role:"alert",style:{textAlign:"center"}},l.a.createElement("strong",null,"No clients being served")))),b.length>0&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("table",{className:"table table-bordered table-striped mb-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"First"),l.a.createElement("th",{scope:"col"},"Last"),l.a.createElement("th",{scope:"col"},"# in House"),l.a.createElement("th",{scope:"col"},"Specific request"),l.a.createElement("th",{scope:"col"},"Method of Pickup"))),l.a.createElement("tbody",null,b.map((function(e,t){return l.a.createElement("tr",{"data-id":e.id,id:"modalLaunch",key:t,onClick:function(){return m(e)},"data-toggle":"modal","data-target":"#servingModal"},l.a.createElement("th",{scope:"row"},t+1),l.a.createElement("td",null,e.fname),l.a.createElement("td",null,e.lname),l.a.createElement("td",null,e.familyNumber),l.a.createElement("td",null,l.a.createElement("ul",null,e.items&&l.a.createElement(P,{items:e.items}))),l.a.createElement("td",null,e.methodOfPickup),l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm"},"Edit")))})))))),l.a.createElement(_,{modalId:"servingModal",client:i,type:"checkout",refreshFunction:function(){E(e.place).then((function(t){if(t)if(t.data.error)console.log("Response error: ",t.data.error);else{var a=x(t.data.clients),n=a.checkedIn,l=a.serving,c=a.checkedOut;r((function(t){return Object(u.a)(Object(u.a)({},t),{},{place:e.place,checkedIn:n,serving:l,checkedOut:c})}))}else console.log("No response error")}))},place:e.place}))},A=Object(s.i)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),i=s[0],m=s[1],b=Object(n.useContext)(F),p=Object(d.a)(b,2),f=p[0],h=p[1],v=Object(n.useState)({}),g=Object(d.a)(v,2),N=g[0],y=g[1];if(void 0!==e.place)var O=e.place;else O="Clothing Bank";Object(n.useEffect)((function(){h((function(e){return Object(u.a)(Object(u.a)({},e),{},{place:O})}))}),[]);var k=function(){E(O).then((function(e){if(e)if(e.data.error)r(!0),m(e.data.error);else{var t=x(e.data.clients),a=t.checkedIn,n=t.serving,l=t.checkedOut;h((function(e){return Object(u.a)(Object(u.a)({},e),{},{place:O,checkedIn:a,serving:n,checkedOut:l})}))}else r(!0),m("No response from server")}))},w=f.checkedIn;return l.a.createElement(n.Fragment,null,c&&j(i),0==w.length&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 offset-sm-3"},l.a.createElement("div",{className:"alert alert-success",role:"alert",style:{textAlign:"center"}},l.a.createElement("strong",null,"Please check in")))),w.length>0&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("table",{className:"table table-bordered table-striped mb-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"First"),l.a.createElement("th",{scope:"col"},"Last"),l.a.createElement("th",{scope:"col"},"# in House"),l.a.createElement("th",{scope:"col"},"Specific request"),l.a.createElement("th",{scope:"col"},"Method of Pickup"),l.a.createElement("th",null,"\xa0"))),l.a.createElement("tbody",null,w.map((function(e,t){return l.a.createElement("tr",{"data-id":e.id,id:"modalLaunch",key:t},l.a.createElement("th",{scope:"row"},t+1),l.a.createElement("td",{onClick:function(){return y(e)},"data-toggle":"modal","data-target":"#checkinModal"},e.fname),l.a.createElement("td",{onClick:function(){return y(e)},"data-toggle":"modal","data-target":"#checkinModal"},e.lname),l.a.createElement("td",{onClick:function(){return y(e)},"data-toggle":"modal","data-target":"#checkinModal"},e.familyNumber),l.a.createElement("td",{onClick:function(){return y(e)},"data-toggle":"modal","data-target":"#checkinModal"},l.a.createElement("ul",null,e.items&&l.a.createElement(P,{items:e.items}))),l.a.createElement("td",{onClick:function(){return y(e)},"data-toggle":"modal","data-target":"#checkinModal"},e.methodOfPickup),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return y(e)},type:"button",className:"btn btn-secondary btn-sm","data-toggle":"modal","data-target":"#editModal"},"Edit")))})))))),l.a.createElement(_,{modalId:"checkinModal",client:N,type:"serving",refreshFunction:k}),l.a.createElement(_,{modalId:"editModal",client:N,type:"editCheckin",refreshFunction:k}))})),D=Object(s.i)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1];Object(n.useEffect)((function(){sessionStorage.getItem("jwt")||r(!0)}),[]);return c?l.a.createElement(s.a,{to:"/"}):l.a.createElement(I,null,l.a.createElement(n.Fragment,null,l.a.createElement(y,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),r(!0)},logoutLink:!0}),l.a.createElement("section",{id:"tabs"},l.a.createElement("div",{className:"container",style:{maxWidth:"100%"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12",style:{width:"100%"}},l.a.createElement("nav",null,l.a.createElement("div",{className:"nav nav-tabs nav-fill",id:"nav-tab",role:"tablist",style:{backgroundColor:"white"}},l.a.createElement("a",{className:"nav-item nav-link active",id:"nav-home-tab","data-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true"},"Check In"),l.a.createElement("a",{className:"nav-item nav-link",id:"nav-profile-tab","data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},"Serving"),l.a.createElement("a",{className:"nav-item nav-link",id:"nav-about-tab","data-toggle":"tab",href:"#nav-about",role:"tab","aria-controls":"nav-about","aria-selected":"false"},"Check Out"))),l.a.createElement("div",{className:"tab-content py-3 px-3 px-sm-0",id:"nav-tabContent"},l.a.createElement("div",{className:"tab-pane fade show active outer-wrapper",id:"nav-home",role:"tabpanel","aria-labelledby":"nav-home-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(A,{place:"Clothing Bank"})),l.a.createElement(o.b,{to:"/searchclient",style:{textDecoration:"none"}},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg btn-block"},"Check In"))),l.a.createElement("div",{className:"tab-pane fade outer-wrapper",id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(T,{place:"Clothing Bank"}))),l.a.createElement("div",{className:"tab-pane fade outer-wrapper",id:"nav-about",role:"tabpanel","aria-labelledby":"nav-about-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(L,{place:"Clothing Bank"}))))))))))})),R=Object(s.i)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],i=Object(s.h)().search,m=new URLSearchParams(i).get("active"),u=m?"":"active",b="serving"==m?"active":"",p="checkout"==m?"active":"",f=m?"":"show",E="serving"==m?"show":"",h="checkout"==m?"show":"";Object(n.useEffect)((function(){console.log("activeParam",m),sessionStorage.getItem("jwt")||r(!0)}),[]);return c?l.a.createElement(s.a,{to:"/"}):l.a.createElement(I,null,l.a.createElement(n.Fragment,null,l.a.createElement(y,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),r(!0)},logoutLink:!0}),l.a.createElement("section",{id:"tabs"},l.a.createElement("div",{className:"container",style:{maxWidth:"100%"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12",style:{width:"100%"}},l.a.createElement("nav",null,l.a.createElement("div",{className:"nav nav-tabs nav-fill",id:"nav-tab",role:"tablist",style:{backgroundColor:"white"}},l.a.createElement("a",{className:"nav-item nav-link ".concat(u),id:"nav-home-tab","data-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true"},"Check In"),l.a.createElement("a",{className:"nav-item nav-link ".concat(b),id:"nav-profile-tab","data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},"Serving"),l.a.createElement("a",{className:"nav-item nav-link ".concat(p),id:"nav-about-tab","data-toggle":"tab",href:"#nav-about",role:"tab","aria-controls":"nav-about","aria-selected":"false"},"Check Out"))),l.a.createElement("div",{className:"tab-content py-3 px-3 px-sm-0",id:"nav-tabContent"},l.a.createElement("div",{className:"tab-pane fade ".concat(f," ").concat(u," outer-wrapper"),id:"nav-home",role:"tabpanel","aria-labelledby":"nav-home-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(A,{place:"Food pantry"})),l.a.createElement(o.b,{to:"/searchclient",style:{textDecoration:"none"}},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg btn-block"},"Check In"))),l.a.createElement("div",{className:"tab-pane fade ".concat(E," ").concat(b," outer-wrapper"),id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(T,{place:"Food pantry"}))),l.a.createElement("div",{className:"tab-pane fade ".concat(h," ").concat(p," outer-wrapper"),id:"nav-about",role:"tabpanel","aria-labelledby":"nav-about-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(L,{place:"Food pantry"}))))))))))})),W=Object(s.i)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1];Object(n.useEffect)((function(){sessionStorage.getItem("jwt")||r(!0)}),[]);return c?l.a.createElement(s.a,{to:"/"}):l.a.createElement(I,null,l.a.createElement(n.Fragment,null,l.a.createElement(y,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),r(!0)},logoutLink:!0}),l.a.createElement("section",{id:"tabs"},l.a.createElement("div",{className:"container",style:{maxWidth:"100%"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12",style:{width:"100%"}},l.a.createElement("nav",null,l.a.createElement("div",{className:"nav nav-tabs nav-fill",id:"nav-tab",role:"tablist",style:{backgroundColor:"white"}},l.a.createElement("a",{className:"nav-item nav-link active",id:"nav-home-tab","data-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true"},"Check In"),l.a.createElement("a",{className:"nav-item nav-link",id:"nav-profile-tab","data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},"Serving"),l.a.createElement("a",{className:"nav-item nav-link",id:"nav-about-tab","data-toggle":"tab",href:"#nav-about",role:"tab","aria-controls":"nav-about","aria-selected":"false"},"Check Out"))),l.a.createElement("div",{className:"tab-content py-3 px-3 px-sm-0",id:"nav-tabContent"},l.a.createElement("div",{className:"tab-pane fade show active outer-wrapper",id:"nav-home",role:"tabpanel","aria-labelledby":"nav-home-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(A,{place:"Mobile Resource Center"})),l.a.createElement(o.b,{to:"/searchclient",style:{textDecoration:"none"}},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg btn-block"},"Check In"))),l.a.createElement("div",{className:"tab-pane fade outer-wrapper",id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(T,{place:"Mobile Resource Center"}))),l.a.createElement("div",{className:"tab-pane fade outer-wrapper",id:"nav-about",role:"tabpanel","aria-labelledby":"nav-about-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(L,{place:"Mobile Resource Center"}))))))))))})),q=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(d.a)(r,2),m=o[0],p=o[1],E=Object(n.useState)(!1),h=Object(d.a)(E,2),v=h[0],g=h[1],N=Object(n.useState)({username:"",password:""}),O=Object(d.a)(N,2),k=O[0],w=O[1],S=k.username,C=k.password,F=function(e){e.preventDefault(),function(e){var t=e.username,a=e.password;return f.a.post("".concat(b,"/user_login.php"),{username:t,password:a}).then((function(e){return e})).catch((function(e){return console.log(e)}))}(k).then((function(e){var t=e.data;t.jwt&&(sessionStorage.setItem("jwt",t.jwt),g(!0)),t.error&&(c(!0),p(t.error))}))},I=function(e){return function(t){w(Object(u.a)(Object(u.a)({},k),{},Object(i.a)({},e,t.target.value)))}};return v||sessionStorage.getItem("jwt")?l.a.createElement(s.a,{to:"/storehouse"}):l.a.createElement(n.Fragment,null,l.a.createElement(y,{logoutLink:!1}),l.a.createElement("main",{role:"main",className:"container",style:{maxWidth:"100%"}},l.a.createElement("div",{className:"cotainer",style:{marginTop:15}},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Client Check In System"),l.a.createElement("div",{className:"card-body"},a&&j(m),l.a.createElement("form",{action:"",method:""},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"username",className:"col-md-4 col-form-label text-md-right"},"Username"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{onChange:I("username"),type:"text",id:"username",className:"form-control",name:"username",required:!0,autoFocus:!0,value:S}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"password",className:"col-md-4 col-form-label text-md-right"},"Password"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{onChange:I("password"),type:"password",id:"password",className:"form-control",name:"password",required:!0,value:C}))),l.a.createElement("div",{className:"col-md-6 offset-md-4"},l.a.createElement("button",{onClick:F,className:"btn btn-primary"},"Submit"))))))))))},B=function(){return l.a.createElement(o.a,null,l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/placeofservice"},l.a.createElement(C,null)),l.a.createElement(s.b,{path:"/viewclient"},l.a.createElement(O,null)),l.a.createElement(s.b,{path:"/updateclient"},l.a.createElement(w,null)),l.a.createElement(s.b,{path:"/registerclient"},l.a.createElement(S,null)),l.a.createElement(s.b,{path:"/searchclient"},l.a.createElement(k,null)),l.a.createElement(s.b,{path:"/storehouse"},l.a.createElement(D,null)),l.a.createElement(s.b,{path:"/foodpantry"},l.a.createElement(R,null)),l.a.createElement(s.b,{path:"/mrc"},l.a.createElement(W,null)),l.a.createElement(s.b,{path:"/"},l.a.createElement(q,null))))},U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Z(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(B,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");U?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Z(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Z(t,e)}))}}()}},[[32,1,2]]]);
//# sourceMappingURL=main.dc27a546.chunk.js.map