(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){e.exports=a(59)},59:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(30),r=a.n(c),o=a(3),s=a(4),m=a(10),i=a(13),u=a(2),d=a(1),b="https://www.tnfpapp.org/checkin/api",p=a(6),f=a.n(p),E=function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_list.php"),{jwt:t,placeOfService:e}).then((function(e){return e})).catch((function(e){return console.log(e)}))},h=function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_detail.php"),{email:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))},v=function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/items.php"),{place_of_service:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))},g={navLink:{color:"#FFFFFF",textDecoration:"none"}},N=Object(s.h)((function(e){var t=e.logoutFunction,a=e.logoutLink,c=e.history,r=function(e,t){return e.location.pathname===t?{color:"#ff9900",textDecoration:"none"}:{color:"#FFFFFF",textDecoration:"none"}};return l.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},!a&&l.a.createElement(o.b,{style:g.navLink,to:"/storehouse"},"Gods Vast Resources"),a&&l.a.createElement(n.Fragment,null,l.a.createElement(o.b,{style:r(c,"/storehouse"),to:{pathname:"/storehouse",state:{place:"Clothing Bank"}}},"Clothing Bank"),l.a.createElement(o.b,{style:r(c,"/foodpantry"),to:{pathname:"/foodpantry",state:{place:"Food pantry"}}},"Food Pantry"),l.a.createElement(o.b,{style:r(c,"/mrc"),to:{pathname:"/mrc",state:{place:"Mobile resource center"}}},"Mobile Resource Center"),l.a.createElement(o.b,{style:g.navLink,onClick:t,to:"#"},"Log out")))})),O=Object(s.h)((function(e){var t=e.client,a=Object(n.useState)(!1),c=Object(d.a)(a,2),r=c[0];c[1];if(r)return l.a.createElement(s.a,{to:"/"});return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("table",{className:"table table-bordered table-striped mb-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"First"),l.a.createElement("th",{scope:"col"},"Last"),l.a.createElement("th",{scope:"col"},"Address"),l.a.createElement("th",{scope:"col"},"Email"),l.a.createElement("th",{scope:"col"},"Phone"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,t.fname),l.a.createElement("td",null,t.lname),l.a.createElement("td",null,t.address),l.a.createElement("td",null,t.email),l.a.createElement("td",null,t.phone)))))),l.a.createElement("div",{className:"row",style:{paddingTop:15}},l.a.createElement("div",{className:"col-sm"},l.a.createElement(o.b,{to:{pathname:"/placeofservice",state:{client:t}},style:{textDecoration:"none"}},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg btn-block"},"Check In"))),l.a.createElement("div",{className:"col-sm"},l.a.createElement(o.b,{to:{pathname:"/updateclient",state:{client:t}},style:{textDecoration:"none"}},l.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block"},"Update Info")))))})),y=function(e){return l.a.createElement("div",{className:"alert alert-danger",role:"alert"},l.a.createElement("b",null,"Error!")," ",e)},j=Object(s.h)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],b=Object(n.useState)(""),p=Object(d.a)(b,2),f=p[0],E=p[1],v=Object(n.useState)(!1),g=Object(d.a)(v,2),j=g[0],k=g[1],w=Object(n.useState)({}),S=Object(d.a)(w,2),C=S[0],F=S[1],I=Object(n.useState)({email:"",status:"checkin",familyNumber:"0",specificRequest:[]}),x=Object(d.a)(I,2),_=x[0],M=x[1],L=_.email,P=_.specificRequest;Object(n.useEffect)((function(){sessionStorage.getItem("jwt")||k(!0),e.location.reload&&h(e.location.email).then((function(e){e?e.data.error?(r(!0),E(e.data.error)):(r(!1),F(e.data.client)):(r(!0),E("No response from server"))}))}),[]);if(j)return l.a.createElement(s.a,{to:"/"});var T=function(e){e.preventDefault(),""!==L?h(L).then((function(e){e?e.data.error?(r(!0),E(e.data.error)):(r(!1),F(e.data.client)):(r(!0),E("No response from server"))})):(r(!0),E("Email address must not be blank"))};return l.a.createElement(n.Fragment,null,l.a.createElement(N,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),k(!0)},logoutLink:!0}),c&&y(f),function(){return l.a.createElement("form",{style:{padding:15}},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group mx-auto",style:{width:400}},l.a.createElement("label",{htmlFor:"inputEmail"},l.a.createElement("strong",null,"Email or Unique ID")),l.a.createElement("input",{type:"email",className:"form-control",id:"inputEmail",onChange:(e="email",function(t){M("specificRequest"==e?Object(u.a)(Object(u.a)({},_),{},{specificRequest:[].concat(Object(i.a)(P),[t.target.value])}):Object(u.a)(Object(u.a)({},_),{},Object(m.a)({},e,t.target.value)))})}),l.a.createElement("br",null),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement(o.b,{style:{textDecoration:"none"},to:{pathname:"/registerclient"}},l.a.createElement("button",{className:"btn btn-info btn-lg btn-block"},"Register Client"))),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("button",{onClick:T,className:"btn btn-success btn-lg btn-block"},"Search Client"))))));var e}(),Object.entries(C).length>0&&l.a.createElement(O,{client:C}))})),k=Object(s.h)((function(e){var t=e.location,a=Object(n.useState)(!1),c=Object(d.a)(a,2),r=c[0],o=c[1],i=Object(n.useState)(""),p=Object(d.a)(i,2),E=p[0],h=p[1],v=Object(n.useState)(!1),g=Object(d.a)(v,2),O=g[0],j=g[1],k=Object(n.useState)({id:0,fname:"",lname:"",address:"",inhouse:"",city:"",state:"",postalCode:"",email:"",phone:""}),w=Object(d.a)(k,2),S=w[0],C=w[1];Object(n.useEffect)((function(){if(t.state){var e=t.state.client;C({id:e.id,fname:e.fname,lname:e.lname,address:e.address,inhouse:e.inhouse,city:e.city,state:"AZ",postalCode:e.postalCode,email:e.email,phone:e.phone})}}),[]);var F=S.fname,I=S.lname,x=S.address,_=S.inhouse,M=S.city,L=S.postalCode,P=S.email,T=S.phone;if(O)return l.a.createElement(s.a,{to:{pathname:"/searchclient",email:P,reload:!0}});if(!t.state)return l.a.createElement(s.a,{to:"/"});var A=function(e){return function(t){C(Object(u.a)(Object(u.a)({},S),{},Object(m.a)({},e,t.target.value)))}},D=function(e){e.preventDefault(),function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_update_info.php"),{client:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))}(S).then((function(e){e?e.data.error?(o(!0),h(e.data.error)):j(!0):(o(!0),h("No response from server"))}))};return l.a.createElement(n.Fragment,null,l.a.createElement(N,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),j(!0)},logoutLink:!0}),r&&y(E),l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputFname"},l.a.createElement("strong",null,"First Name")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputFname",placeholder:"First Name",onChange:A("fname"),value:F})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputLname"},l.a.createElement("strong",null,"Last Name")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputLname",placeholder:"Last Name",onChange:A("lname"),value:I}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6",style:{padding:15}},l.a.createElement("label",{htmlFor:"inputAddress"},l.a.createElement("strong",null,"Address")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputAddress",placeholder:"1234 Main St",onChange:A("address"),value:x})),l.a.createElement("div",{className:"form-group col-md-6",style:{padding:15}},l.a.createElement("label",{htmlFor:"inHouse"},l.a.createElement("strong",null,"# in house")),l.a.createElement("input",{type:"text",className:"form-control",id:"inHouse",placeholder:"# in house",onChange:A("inhouse"),value:_}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputCity"},l.a.createElement("strong",null,"City")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputCity",onChange:A("city"),placeholder:"Tucson",value:M})),l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",{htmlFor:"inputState"},l.a.createElement("strong",null,"State")),l.a.createElement("select",{id:"inputState",className:"form-control"},l.a.createElement("option",null,"Arizona"))),l.a.createElement("div",{className:"form-group col-md-2"},l.a.createElement("label",{htmlFor:"inputZip"},l.a.createElement("strong",null,"Zip")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputZip",onChange:A("postalCode"),value:L}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputEmail"},l.a.createElement("strong",null,"Email")),l.a.createElement("input",{type:"email",className:"form-control",id:"inputEmail",placeholder:"Email",onChange:A("email"),value:P})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputPhone"},l.a.createElement("strong",null,"Phone")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputPhone",placeholder:"Phone",onChange:A("phone"),value:T}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("button",{onClick:D,className:"btn btn-success btn-lg btn-block"},"Submit")))))})),w=Object(s.h)((function(e){e.location;var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(""),i=Object(d.a)(o,2),p=i[0],E=i[1],h=Object(n.useState)(!1),v=Object(d.a)(h,2),g=v[0],O=v[1],j=Object(n.useState)({id:0,fname:"",lname:"",address:"",inhouse:"",city:"",state:"AZ",postalCode:"",email:"",phone:""}),k=Object(d.a)(j,2),w=k[0],S=k[1];if(g)return l.a.createElement(s.a,{to:{pathname:"/searchclient"}});var C=w.fname,F=w.lname,I=w.address,x=w.inhouse,_=w.city,M=w.postalCode,L=w.email,P=w.phone,T=function(e){return function(t){S(Object(u.a)(Object(u.a)({},w),{},Object(m.a)({},e,t.target.value)))}},A=function(e){e.preventDefault(),function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_register.php"),{client:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))}(w).then((function(e){e?e.data.error?(r(!0),E(e.data.error)):O(!0):(r(!0),E("No response from server"))}))};return l.a.createElement(n.Fragment,null,l.a.createElement(N,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),O(!0)},logoutLink:!0}),c&&y(p),l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputFname"},l.a.createElement("strong",null,"First Name")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputFname",placeholder:"First Name",onChange:T("fname"),value:C})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputLname"},l.a.createElement("strong",null,"Last Name")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputLname",placeholder:"Last Name",onChange:T("lname"),value:F}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6",style:{padding:15}},l.a.createElement("label",{htmlFor:"inputAddress"},l.a.createElement("strong",null,"Address")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputAddress",placeholder:"1234 Main St",onChange:T("address"),value:I})),l.a.createElement("div",{className:"form-group col-md-6",style:{padding:15}},l.a.createElement("label",{htmlFor:"inHouse"},l.a.createElement("strong",null,"# in house")),l.a.createElement("input",{type:"text",className:"form-control",id:"inHouse",placeholder:"# in house",onChange:T("inhouse"),value:x}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputCity"},l.a.createElement("strong",null,"City")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputCity",onChange:T("city"),placeholder:"Tucson",value:_})),l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",{htmlFor:"inputState"},l.a.createElement("strong",null,"State")),l.a.createElement("select",{id:"inputState",className:"form-control"},l.a.createElement("option",null,"Arizona"))),l.a.createElement("div",{className:"form-group col-md-2"},l.a.createElement("label",{htmlFor:"inputZip"},l.a.createElement("strong",null,"Zip")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputZip",onChange:T("postalCode"),value:M}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputEmail"},l.a.createElement("strong",null,"Email")),l.a.createElement("input",{type:"email",className:"form-control",id:"inputEmail",placeholder:"Email",onChange:T("email"),value:L})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputPhone"},l.a.createElement("strong",null,"Phone")),l.a.createElement("input",{type:"text",className:"form-control",id:"inputPhone",placeholder:"Phone",onChange:T("phone"),value:P}))),l.a.createElement("div",{className:"form-row",style:{padding:15}},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("button",{onClick:A,className:"btn btn-success btn-lg btn-block"},"Submit")))))})),S=Object(s.h)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(""),m=Object(d.a)(o,2),u=m[0],p=m[1],E=Object(n.useState)(!1),h=Object(d.a)(E,2),g=h[0],O=h[1],j=Object(n.useState)([]),k=Object(d.a)(j,2),w=k[0],S=k[1],C=(Object(s.g)(),Object(n.useState)(["Drive-Thru","Walk-Up"])),F=Object(d.a)(C,2),I=F[0],x=(F[1],Object(n.useState)([])),_=Object(d.a)(x,2),M=_[0],L=_[1],P=Object(n.useState)([]),T=Object(d.a)(P,2),A=T[0],D=T[1],W=Object(n.useState)(""),R=Object(d.a)(W,2),q=R[0],B=R[1],U=Object(n.useState)(""),Z=Object(d.a)(U,2),H=Z[0],V=Z[1];if(Object(n.useEffect)((function(){return console.log("component mounted"),sessionStorage.getItem("jwt")||O(!0),function(){var e=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/item_placeofservice.php"),{jwt:e}).then((function(e){return e})).catch((function(e){return console.log(e)}))}().then((function(e){e?e.data.error?(r(!0),p(e.data.error)):(r(!1),S(e.data.places)):(r(!0),p("No response from server"))})),function(){console.log("component unmounted")}}),[]),Object(n.useEffect)((function(){console.log("component updated due to items changing")}),[A]),"undefined"===typeof e.location.state)return l.a.createElement(s.a,{to:"/"});if(g){var z="";switch(q){case"Food pantry":z="foodpantry";break;case"Mobile Resource Center":z="mrc";break;default:z="storehouse"}return l.a.createElement(s.a,{to:{pathname:"/".concat(z)}})}var J=function(t){if(t.preventDefault(),0===A.length||""===H)return r(!0),p("Please fill in all the information"),!1;(function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_detail_by_id.php"),{id:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))})(e.location.state.client.id).then((function(e){if(e)if(e.data.error)r(!0),p(e.data.error);else{var t=e.data.client;(function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_save.php"),{client:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))})({fname:t.fname,lname:t.lname,status:"checkin",familyNumber:t.inhouse,placeOfService:q,items:A,email:t.email,methodOfPickup:H}).then((function(e){e?e.data.error?(r(!0),p(e.data.error)):(r(!1),O(!0)):(r(!0),p("No response from server"))}))}else r(!0),p("No response from server")}))};return l.a.createElement(n.Fragment,null,l.a.createElement(N,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),O(!0)},logoutLink:!0}),c&&y(u),l.a.createElement("form",{style:{padding:15}},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group mx-auto",style:{width:400}},l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("label",{htmlFor:"inputPlaceOfService"},l.a.createElement("strong",null,"Place Of Service")),l.a.createElement("select",{onChange:function(e){for(var t=document.querySelectorAll(".form-check-input"),a=0;a<t.length;a++)t[a].checked=!1;D([]),B(e.target.value),v(e.target.value).then((function(e){e?e.data.error?(r(!0),p(e.data.error)):(r(!1),L(e.data.items)):(r(!0),p("No response from server"))}))},className:"custom-select",id:"placeOfService"},l.a.createElement("option",{defaultValue:!0,value:"0"},"Choose..."),w.map((function(e,t){return l.a.createElement("option",{key:t,value:e.place_of_service},e.place_of_service)})))),l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("label",null,l.a.createElement("strong",null,"Method of pickup")),l.a.createElement("select",{onChange:function(e){V(e.target.value)},className:"custom-select",id:"methodsOfPickup"},l.a.createElement("option",{defaultValue:!0,value:"0"},"Choose..."),I.map((function(e,t){return l.a.createElement("option",{key:t,value:e},e)})))),l.a.createElement("div",{className:"form-group col-sm",style:{display:M.length>0?"block":"none"}},l.a.createElement("label",null,l.a.createElement("strong",null,"Items")),M.map((function(e,t){return l.a.createElement("div",{className:"form-check",key:t},l.a.createElement("input",{onChange:function(e){if(e.target.checked)D([].concat(Object(i.a)(A),[e.target.value]));else{var t=A.filter((function(t){return t!==e.target.value}));D(t)}},className:"form-check-input",type:"checkbox",value:e.name,id:t}),l.a.createElement("label",{className:"form-check-label",htmlFor:t},e.name))}))),l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("button",{onClick:J,className:"btn btn-success btn-lg btn-block"},"Submit"))))))})),C=Object(n.createContext)(),F=function(e){var t=Object(n.useState)({place:"",checkedIn:[],serving:[],checkedOut:[]}),a=Object(d.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){E(c.place).then((function(e){if(e)if(e.data.error)console.log("Response error: ",e.data.error);else{var t=e.data.clients.filter((function(e){return"checkin"===e.status})),a=e.data.clients.filter((function(e){return"serving"===e.status})),n=e.data.clients.filter((function(e){return"checkout"===e.status}));r((function(e){return Object(u.a)(Object(u.a)({},e),{},{place:c.place,checkedIn:t,serving:a,checkedOut:n})}))}else console.log("No response error")}));var e=setInterval((function(){E(c.place).then((function(e){if(e)if(e.data.error)console.log("Response error: ",e.data.error);else{var t=e.data.clients.filter((function(e){return"checkin"===e.status})),a=e.data.clients.filter((function(e){return"serving"===e.status})),n=e.data.clients.filter((function(e){return"checkout"===e.status}));r((function(e){return Object(u.a)(Object(u.a)({},e),{},{place:c.place,checkedIn:t,serving:a,checkedOut:n})}))}else console.log("No response error")}))}),3e4);return function(){return clearInterval(e)}}),[c.place,c.updateCheckout]),l.a.createElement(C.Provider,{value:[c,r]},e.children)},I=function(e){return{checkedIn:e.filter((function(e){return"checkin"===e.status})),serving:e.filter((function(e){return"serving"===e.status})),checkedOut:e.filter((function(e){return"checkout"===e.status}))}},x=function(e){var t=e.modalId,a=e.client,c=e.type,r=e.refreshFunction,o=e.place,s=Object(n.useState)(!1),p=Object(d.a)(s,2),h=p[0],g=p[1],N=Object(n.useState)(""),O=Object(d.a)(N,2),j=O[0],k=O[1],w=Object(n.useState)(!1),S=Object(d.a)(w,2),F=S[0],x=S[1],_=Object(n.useContext)(C),M=Object(d.a)(_,2),L=(M[0],M[1]),P=Object(n.useState)(""),T=Object(d.a)(P,2),A=T[0],D=T[1],W=Object(n.useState)(""),R=Object(d.a)(W,2),q=R[0],B=R[1],U=Object(n.useState)(["Drive-Thru","Walk-Up"]),Z=Object(d.a)(U,2),H=Z[0],V=(Z[1],Object(n.useState)("")),z=Object(d.a)(V,2),J=z[0],Y=z[1],G=Object(n.useState)([]),$=Object(d.a)(G,2),K=$[0],Q=$[1],X=Object(n.useState)([]),ee=Object(d.a)(X,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),le=Object(d.a)(ne,2),ce=le[0],re=le[1],oe=Object(n.useState)({place_of_service:"",date_of_visit:"",item:"",notes:"",weight:"",numOfItems:""}),se=Object(d.a)(oe,2),me=se[0],ie=se[1],ue=me.date_of_visit,de=me.item,be=me.notes,pe=me.weight,fe=me.numOfItems;Object(n.useEffect)((function(){if("editCheckin"===c){Y(a.methodOfPickup),v(a.placeOfService).then((function(e){var t=e.data;Q(t.items)}));var e=[];a.items&&a.items.map((function(t){return e.push(t.item)})),ae(e)}"checkout"===c&&v(o).then((function(e){var t=e.data;if(re(t.items),void 0!==a.items&&a.items.length>0){var n=t.items.find((function(e){return e.name===a.items[0].item}));void 0!==n&&("Weight"===n.itemType?ie(Object(u.a)(Object(u.a)({},me),{},{item:n.name,weight:0,numOfItems:""})):ie(Object(u.a)(Object(u.a)({},me),{},{item:n.name,weight:"",numOfItems:0})))}}))}),[a]);var Ee=function(e){return function(t){if("item"==e){var a=document.querySelector('option[value="'.concat(t.target.value,'"]')).dataset.type;ie("Weight"===a?Object(u.a)(Object(u.a)({},me),{},{item:t.target.value,weight:0,numOfItems:""}):Object(u.a)(Object(u.a)({},me),{},{item:t.target.value,weight:"",numOfItems:0}))}else"weight"===e&&D(t.target.value),"numOfItems"===e&&B(t.target.value),ie(Object(u.a)(Object(u.a)({},me),{},Object(m.a)({},e,t.target.value)))}},he=function(e){e.preventDefault(),a.status=c,function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_update_status.php"),{client:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))}(a).then((function(e){r()}))},ve=function(e){if(e.preventDefault(),0===pe&&""===A)return alert("Weight value can not be empty"),!1;if(0===fe&&""===q)return alert("Number of items can not be empty"),!1;var t={id:a.id,c_id:a.c_id,place_of_service:a.placeOfService,date_of_visit:ue,item:de,notes:be,weight:pe,numOfItems:fe};(function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_save_visit_items.php"),{visit:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))})(t).then((function(e){x(!0),setTimeout((function(){x(!1),D(""),B(""),ie(Object(u.a)(Object(u.a)({},t),{},{notes:""}))}),2e3)}))},ge=function(e){e.preventDefault(),function(e){var t=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/client_checkout.php"),{placeOfService:e,jwt:t}).then((function(e){return e})).catch((function(e){return console.log(e)}))}(o).then((function(e){E(o).then((function(e){if(e)if(e.data.error)L((function(e){return Object(u.a)(Object(u.a)({},e),{},{checkedOut:[]})}));else{var t=I(e.data.clients),a=t.checkedIn,n=t.serving,l=t.checkedOut;L((function(e){return Object(u.a)(Object(u.a)({},e),{},{place:o,checkedIn:a,serving:n,checkedOut:l})}))}else g(!0),k("No response from server")}))}))},Ne=function(e){return function(e){if(e.target.checked)ae([].concat(Object(i.a)(te),[e.target.value]));else{var t=te.filter((function(t){return t!==e.target.value}));ae(t)}}},Oe=function(){if(0===te.length||""===J)return alert("Please fill in all the information"),!1;(function(e,t,a,n){var l=sessionStorage.getItem("jwt");return f.a.post("".concat(b,"/update_visit_items.php"),{client_id:e,placeOfService:t,methodOfPickup:a,items:n,jwt:l}).then((function(e){return e})).catch((function(e){return console.log(e)}))})(a.c_id,a.placeOfService,J,te).then((function(e){console.log("result ",e)}))};return l.a.createElement(n.Fragment,null,"editCheckin"==c&&l.a.createElement("div",{className:"modal fade",id:t,tabIndex:"-1",role:"dialog","aria-labelledby":"clientModalTitle","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},h&&y(j),l.a.createElement("h5",{className:"modal-title",id:"clientModalTitle"},"Edit"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("label",null,l.a.createElement("strong",null,"Method of pickup")),l.a.createElement("select",{onChange:function(e){return Y(e.target.value)},className:"custom-select",id:"methodsOfPickup"},l.a.createElement("option",{defaultValue:!0,value:"0"},"Choose..."),a&&H.map((function(e,t){return e===J?l.a.createElement("option",{key:t,selected:!0,value:e},e):l.a.createElement("option",{key:t,value:e},e)})))),l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("label",null,l.a.createElement("strong",null,"Items")),K&&K.map((function(e,t){return te.find((function(t){return t===e.name}))?l.a.createElement("div",{className:"form-check",key:t},l.a.createElement("input",{onChange:Ne(),className:"form-check-input",type:"checkbox",value:e.name,id:t,checked:!0}),l.a.createElement("label",{className:"form-check-label",htmlFor:t},e.name)):l.a.createElement("div",{className:"form-check",key:t},l.a.createElement("input",{onChange:Ne(),className:"form-check-input",type:"checkbox",value:e.name,id:t}),l.a.createElement("label",{className:"form-check-label",htmlFor:t},e.name))})))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{onClick:Oe,className:"btn btn-primary","data-dismiss":"modal"},"Save"))))),"serving"==c&&l.a.createElement("div",{className:"modal fade",id:t,tabIndex:"-1",role:"dialog","aria-labelledby":"clientModalTitle","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},h&&y(j),l.a.createElement("h5",{className:"modal-title",id:"clientModalTitle"},"Move"," ",l.a.createElement("span",{style:{color:"green"}},a.fname," ",a.lname)," ","to ",c,"?"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},"They will be moved to the ",c," tab"),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{onClick:he,className:"btn btn-primary","data-dismiss":"modal"},"Yes"))))),"checkout"==c&&l.a.createElement("div",{className:"modal fade",id:t,tabIndex:"-1",role:"dialog","aria-labelledby":"clientModalTitle","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"clientModalTitle"},"Add visit for"," ",l.a.createElement("span",{style:{color:"green"}},a.fname," ",a.lname)," ","and move to ",c,"?"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("div",{className:"alert alert-success",role:"alert",style:{display:F?"block":"none"}},"Client visit has been saved!"),l.a.createElement("label",{htmlFor:"dateOfVisit"},l.a.createElement("strong",null,"Date of Visit")),l.a.createElement("input",{onChange:Ee("date_of_visit"),type:"date",className:"form-control",id:"dateOfVisit"})),l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("label",{htmlFor:"item"},l.a.createElement("strong",null,"Item")),l.a.createElement("div",{className:"input-group mb-3"},ce&&l.a.createElement("select",{onChange:Ee("item"),className:"custom-select",id:"item"},ce.map((function(e,t){return""!==de&&e.name===de?l.a.createElement("option",{key:t,selected:!0,"data-type":e.itemType,value:e.name},e.name):l.a.createElement("option",{key:t,"data-type":e.itemType,value:e.name},e.name)}))))),l.a.createElement("div",{className:"form-group col-sm",style:{display:""!==pe?"block":"none"}},l.a.createElement("label",{htmlFor:"weight"},l.a.createElement("strong",null,"Weight")),l.a.createElement("input",{type:"number",className:"form-control",id:"weight",onChange:Ee("weight"),value:A,required:!0})),l.a.createElement("div",{className:"form-group col-sm",style:{display:""!==fe?"block":"none"}},l.a.createElement("label",{htmlFor:"numOfItems"},l.a.createElement("strong",null,"Number of items")),l.a.createElement("input",{type:"number",className:"form-control",id:"numOfItems",onChange:Ee("numOfItems"),value:q,required:!0})),l.a.createElement("div",{className:"form-group col-sm"},l.a.createElement("label",{htmlFor:"notes"},l.a.createElement("strong",null,"Notes")),l.a.createElement("textarea",{onChange:Ee("notes"),className:"form-control rounded-0",id:"notes",rows:"3",value:be},be))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{onClick:ve,className:"btn btn-success"},"Save"),l.a.createElement("button",{onClick:he,className:"btn btn-primary","data-dismiss":"modal"},"Move to checkout"))))),"clearcheckout"==c&&l.a.createElement("div",{className:"modal fade",id:t,tabIndex:"-1",role:"dialog","aria-labelledby":"clientModalTitle","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"clientModalTitle"},"Clear checked out clients?"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},"The list will be cleared"),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{onClick:ge,className:"btn btn-primary","data-dismiss":"modal"},"Yes"))))))},_=function(e){return e.items.map((function(e,t){return l.a.createElement("li",{key:t},e.item," - ",e.quantity," - ",e.notes)}))},M=function(e){var t=e.place,a=Object(n.useContext)(C),c=Object(d.a)(a,2),r=c[0],o=c[1],s=Object(n.useState)({}),m=Object(d.a)(s,2),i=m[0],b=m[1],p=Object(n.useState)(!1),f=Object(d.a)(p,2),h=f[0],v=f[1],g=Object(n.useState)(""),N=Object(d.a)(g,2),O=N[0],j=N[1],k=r.checkedOut;return l.a.createElement(n.Fragment,null,h&&y(O),0==k.length&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 offset-sm-3"},l.a.createElement("div",{className:"alert alert-success",role:"alert",style:{textAlign:"center"}},l.a.createElement("strong",null,"No clients in checkout")))),k.length>0&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("button",{style:{float:"right",marginBottom:5},type:"button",className:"btn btn-secondary btn-sm","data-toggle":"modal","data-target":"#checkoutModal"},"Clear Checkout"),l.a.createElement("table",{className:"table table-bordered table-striped mb-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"First"),l.a.createElement("th",{scope:"col"},"Last"),l.a.createElement("th",{scope:"col"},"# in House"),l.a.createElement("th",{scope:"col"},"Specific request"),l.a.createElement("th",{scope:"col"},"Method of Pickup"))),l.a.createElement("tbody",null,k.map((function(e,t){return l.a.createElement("tr",{"data-id":e.id,id:"modalLaunch",key:t,onClick:function(){return b(e)},"data-toggle":"modal","data-target":"#moveBackToServingModal"},l.a.createElement("th",{scope:"row"},t+1),l.a.createElement("td",null,e.fname),l.a.createElement("td",null,e.lname),l.a.createElement("td",null,e.familyNumber),l.a.createElement("td",null,l.a.createElement("ul",null,e.items&&l.a.createElement(_,{items:e.items}))),l.a.createElement("td",null,e.methodOfPickup))})))))),l.a.createElement(x,{modalId:"moveBackToServingModal",client:i,type:"serving",refreshFunction:function(){E(t).then((function(e){if(e)if(e.data.error)v(!0),j(e.data.error);else{var a=I(e.data.clients),n=a.checkedIn,l=a.serving,c=a.checkedOut;o((function(e){return Object(u.a)(Object(u.a)({},e),{},{place:t,checkedIn:n,serving:l,checkedOut:c})}))}else v(!0),j("No response from server")}))}}),l.a.createElement(x,{modalId:"checkoutModal",client:i,type:"clearcheckout",place:t}))},L=function(e){var t=Object(n.useContext)(C),a=Object(d.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)({}),s=Object(d.a)(o,2),m=s[0],i=s[1],b=c.serving;return l.a.createElement(n.Fragment,null,0==b.length&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 offset-sm-3"},l.a.createElement("div",{className:"alert alert-success",role:"alert",style:{textAlign:"center"}},l.a.createElement("strong",null,"No clients being served")))),b.length>0&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("table",{className:"table table-bordered table-striped mb-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"First"),l.a.createElement("th",{scope:"col"},"Last"),l.a.createElement("th",{scope:"col"},"# in House"),l.a.createElement("th",{scope:"col"},"Specific request"),l.a.createElement("th",{scope:"col"},"Method of Pickup"))),l.a.createElement("tbody",null,b.map((function(e,t){return l.a.createElement("tr",{"data-id":e.id,id:"modalLaunch",key:t,onClick:function(){return i(e)},"data-toggle":"modal","data-target":"#servingModal"},l.a.createElement("th",{scope:"row"},t+1),l.a.createElement("td",null,e.fname),l.a.createElement("td",null,e.lname),l.a.createElement("td",null,e.familyNumber),l.a.createElement("td",null,l.a.createElement("ul",null,e.items&&l.a.createElement(_,{items:e.items}))),l.a.createElement("td",null,e.methodOfPickup))})))))),l.a.createElement(x,{modalId:"servingModal",client:m,type:"checkout",refreshFunction:function(){E(e.place).then((function(t){if(t)if(t.data.error)console.log("Response error: ",t.data.error);else{var a=I(t.data.clients),n=a.checkedIn,l=a.serving,c=a.checkedOut;r((function(t){return Object(u.a)(Object(u.a)({},t),{},{place:e.place,checkedIn:n,serving:l,checkedOut:c})}))}else console.log("No response error")}))},place:e.place}))},P=Object(s.h)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),m=s[0],i=s[1],b=Object(n.useContext)(C),p=Object(d.a)(b,2),f=p[0],h=p[1],v=Object(n.useState)({}),g=Object(d.a)(v,2),N=g[0],O=g[1];if(void 0!==e.place)var j=e.place;else j="Clothing Bank";Object(n.useEffect)((function(){h((function(e){return Object(u.a)(Object(u.a)({},e),{},{place:j})}))}),[]);var k=function(){E(j).then((function(e){if(e)if(e.data.error)r(!0),i(e.data.error);else{var t=I(e.data.clients),a=t.checkedIn,n=t.serving,l=t.checkedOut;h((function(e){return Object(u.a)(Object(u.a)({},e),{},{place:j,checkedIn:a,serving:n,checkedOut:l})}))}else r(!0),i("No response from server")}))},w=f.checkedIn;return l.a.createElement(n.Fragment,null,c&&y(m),0==w.length&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 offset-sm-3"},l.a.createElement("div",{className:"alert alert-success",role:"alert",style:{textAlign:"center"}},l.a.createElement("strong",null,"Please check in")))),w.length>0&&l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("table",{className:"table table-bordered table-striped mb-0"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"First"),l.a.createElement("th",{scope:"col"},"Last"),l.a.createElement("th",{scope:"col"},"# in House"),l.a.createElement("th",{scope:"col"},"Specific request"),l.a.createElement("th",{scope:"col"},"Method of Pickup"),l.a.createElement("th",null,"\xa0"))),l.a.createElement("tbody",null,w.map((function(e,t){return l.a.createElement("tr",{"data-id":e.id,id:"modalLaunch",key:t},l.a.createElement("th",{scope:"row"},t+1),l.a.createElement("td",{onClick:function(){return O(e)},"data-toggle":"modal","data-target":"#checkinModal"},e.fname),l.a.createElement("td",{onClick:function(){return O(e)},"data-toggle":"modal","data-target":"#checkinModal"},e.lname),l.a.createElement("td",{onClick:function(){return O(e)},"data-toggle":"modal","data-target":"#checkinModal"},e.familyNumber),l.a.createElement("td",{onClick:function(){return O(e)},"data-toggle":"modal","data-target":"#checkinModal"},l.a.createElement("ul",null,e.items&&l.a.createElement(_,{items:e.items}))),l.a.createElement("td",{onClick:function(){return O(e)},"data-toggle":"modal","data-target":"#checkinModal"},e.methodOfPickup),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return O(e)},type:"button",className:"btn btn-secondary btn-sm","data-toggle":"modal","data-target":"#editModal"},"Edit")))})))))),l.a.createElement(x,{modalId:"checkinModal",client:N,type:"serving",refreshFunction:k}),l.a.createElement(x,{modalId:"editModal",client:N,type:"editCheckin",refreshFunction:k}))})),T=Object(s.h)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1];Object(n.useEffect)((function(){sessionStorage.getItem("jwt")||r(!0)}),[]);return c?l.a.createElement(s.a,{to:"/"}):l.a.createElement(F,null,l.a.createElement(n.Fragment,null,l.a.createElement(N,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),r(!0)},logoutLink:!0}),l.a.createElement("section",{id:"tabs"},l.a.createElement("div",{className:"container",style:{maxWidth:"100%"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12",style:{width:"100%"}},l.a.createElement("nav",null,l.a.createElement("div",{className:"nav nav-tabs nav-fill",id:"nav-tab",role:"tablist",style:{backgroundColor:"white"}},l.a.createElement("a",{className:"nav-item nav-link active",id:"nav-home-tab","data-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true"},"Check In"),l.a.createElement("a",{className:"nav-item nav-link",id:"nav-profile-tab","data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},"Serving"),l.a.createElement("a",{className:"nav-item nav-link",id:"nav-about-tab","data-toggle":"tab",href:"#nav-about",role:"tab","aria-controls":"nav-about","aria-selected":"false"},"Check Out"))),l.a.createElement("div",{className:"tab-content py-3 px-3 px-sm-0",id:"nav-tabContent"},l.a.createElement("div",{className:"tab-pane fade show active outer-wrapper",id:"nav-home",role:"tabpanel","aria-labelledby":"nav-home-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(P,{place:"Clothing Bank"})),l.a.createElement(o.b,{to:"/searchclient",style:{textDecoration:"none"}},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg btn-block"},"Check In"))),l.a.createElement("div",{className:"tab-pane fade outer-wrapper",id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(L,{place:"Clothing Bank"}))),l.a.createElement("div",{className:"tab-pane fade outer-wrapper",id:"nav-about",role:"tabpanel","aria-labelledby":"nav-about-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(M,{place:"Clothing Bank"}))))))))))})),A=Object(s.h)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1];Object(n.useEffect)((function(){sessionStorage.getItem("jwt")||r(!0)}),[]);return c?l.a.createElement(s.a,{to:"/"}):l.a.createElement(F,null,l.a.createElement(n.Fragment,null,l.a.createElement(N,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),r(!0)},logoutLink:!0}),l.a.createElement("section",{id:"tabs"},l.a.createElement("div",{className:"container",style:{maxWidth:"100%"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12",style:{width:"100%"}},l.a.createElement("nav",null,l.a.createElement("div",{className:"nav nav-tabs nav-fill",id:"nav-tab",role:"tablist",style:{backgroundColor:"white"}},l.a.createElement("a",{className:"nav-item nav-link active",id:"nav-home-tab","data-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true"},"Check In"),l.a.createElement("a",{className:"nav-item nav-link",id:"nav-profile-tab","data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},"Serving"),l.a.createElement("a",{className:"nav-item nav-link",id:"nav-about-tab","data-toggle":"tab",href:"#nav-about",role:"tab","aria-controls":"nav-about","aria-selected":"false"},"Check Out"))),l.a.createElement("div",{className:"tab-content py-3 px-3 px-sm-0",id:"nav-tabContent"},l.a.createElement("div",{className:"tab-pane fade show active outer-wrapper",id:"nav-home",role:"tabpanel","aria-labelledby":"nav-home-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(P,{place:"Food pantry"})),l.a.createElement(o.b,{to:"/searchclient",style:{textDecoration:"none"}},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg btn-block"},"Check In"))),l.a.createElement("div",{className:"tab-pane fade outer-wrapper",id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(L,{place:"Food pantry"}))),l.a.createElement("div",{className:"tab-pane fade outer-wrapper",id:"nav-about",role:"tabpanel","aria-labelledby":"nav-about-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(M,{place:"Food pantry"}))))))))))})),D=Object(s.h)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1];Object(n.useEffect)((function(){sessionStorage.getItem("jwt")||r(!0)}),[]);return c?l.a.createElement(s.a,{to:"/"}):l.a.createElement(F,null,l.a.createElement(n.Fragment,null,l.a.createElement(N,{logoutFunction:function(){sessionStorage.setItem("jwt",""),sessionStorage.clear(),r(!0)},logoutLink:!0}),l.a.createElement("section",{id:"tabs"},l.a.createElement("div",{className:"container",style:{maxWidth:"100%"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12",style:{width:"100%"}},l.a.createElement("nav",null,l.a.createElement("div",{className:"nav nav-tabs nav-fill",id:"nav-tab",role:"tablist",style:{backgroundColor:"white"}},l.a.createElement("a",{className:"nav-item nav-link active",id:"nav-home-tab","data-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true"},"Check In"),l.a.createElement("a",{className:"nav-item nav-link",id:"nav-profile-tab","data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},"Serving"),l.a.createElement("a",{className:"nav-item nav-link",id:"nav-about-tab","data-toggle":"tab",href:"#nav-about",role:"tab","aria-controls":"nav-about","aria-selected":"false"},"Check Out"))),l.a.createElement("div",{className:"tab-content py-3 px-3 px-sm-0",id:"nav-tabContent"},l.a.createElement("div",{className:"tab-pane fade show active outer-wrapper",id:"nav-home",role:"tabpanel","aria-labelledby":"nav-home-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(P,{place:"Mobile Resource Center"})),l.a.createElement(o.b,{to:"/searchclient",style:{textDecoration:"none"}},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg btn-block"},"Check In"))),l.a.createElement("div",{className:"tab-pane fade outer-wrapper",id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(L,{place:"Mobile Resource Center"}))),l.a.createElement("div",{className:"tab-pane fade outer-wrapper",id:"nav-about",role:"tabpanel","aria-labelledby":"nav-about-tab"},l.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},l.a.createElement(M,{place:"Mobile Resource Center"}))))))))))})),W=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(d.a)(r,2),i=o[0],p=o[1],E=Object(n.useState)(!1),h=Object(d.a)(E,2),v=h[0],g=h[1],O=Object(n.useState)({username:"",password:""}),j=Object(d.a)(O,2),k=j[0],w=j[1],S=k.username,C=k.password,F=function(e){e.preventDefault(),function(e){var t=e.username,a=e.password;return f.a.post("".concat(b,"/user_login.php"),{username:t,password:a}).then((function(e){return e})).catch((function(e){return console.log(e)}))}(k).then((function(e){var t=e.data;t.jwt&&(sessionStorage.setItem("jwt",t.jwt),g(!0)),t.error&&(c(!0),p(t.error))}))},I=function(e){return function(t){w(Object(u.a)(Object(u.a)({},k),{},Object(m.a)({},e,t.target.value)))}};return v||sessionStorage.getItem("jwt")?l.a.createElement(s.a,{to:"/storehouse"}):l.a.createElement(n.Fragment,null,l.a.createElement(N,{logoutLink:!1}),l.a.createElement("main",{role:"main",className:"container",style:{maxWidth:"100%"}},l.a.createElement("div",{className:"cotainer",style:{marginTop:15}},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Client Check In System"),l.a.createElement("div",{className:"card-body"},a&&y(i),l.a.createElement("form",{action:"",method:""},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"username",className:"col-md-4 col-form-label text-md-right"},"Username"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{onChange:I("username"),type:"text",id:"username",className:"form-control",name:"username",required:!0,autoFocus:!0,value:S}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"password",className:"col-md-4 col-form-label text-md-right"},"Password"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{onChange:I("password"),type:"password",id:"password",className:"form-control",name:"password",required:!0,value:C}))),l.a.createElement("div",{className:"col-md-6 offset-md-4"},l.a.createElement("button",{onClick:F,className:"btn btn-primary"},"Submit"))))))))))},R=function(){return l.a.createElement(o.a,null,l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/placeofservice"},l.a.createElement(S,null)),l.a.createElement(s.b,{path:"/viewclient"},l.a.createElement(O,null)),l.a.createElement(s.b,{path:"/updateclient"},l.a.createElement(k,null)),l.a.createElement(s.b,{path:"/registerclient"},l.a.createElement(w,null)),l.a.createElement(s.b,{path:"/searchclient"},l.a.createElement(j,null)),l.a.createElement(s.b,{path:"/storehouse"},l.a.createElement(T,null)),l.a.createElement(s.b,{path:"/foodpantry"},l.a.createElement(A,null)),l.a.createElement(s.b,{path:"/mrc"},l.a.createElement(D,null)),l.a.createElement(s.b,{path:"/"},l.a.createElement(W,null))))},q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(R,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");q?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):B(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):B(t,e)}))}}()}},[[32,1,2]]]);
//# sourceMappingURL=main.64eda7e1.chunk.js.map